<% order_content = order.order_content %>
<% order_content_decorator = OrderContentDecorator.new(order.order_content) %>
<%= link_to order, target: "_top"  do %>
  <%= tag.div class: local_assigns[:target_top_link_to_css_classes] do %>
    <div class="text-left">
      <% if order_content.packaging_materials.any? %>
        <%= tag.div class: "inline-block mx-auto grid gap-x-2 grid-cols-2 whitespace-nowrap" do %>
          <%= tag.div "Boxes:", class:"" %>
          <%= tag.div order_content_decorator.packaging_materials_boxes_td, class: "mt-1 text-xs" %>
          <%= tag.div "Crates:", class:"" %>
          <%= tag.div order_content_decorator.packaging_materials_crates_td, class: "mt-1 text-xs" %>
          <%= tag.div "Pallets:", class:"" %>
          <%= tag.div order_content_decorator.packaging_materials_pallets_td, class: "mt-1 text-xs" %>
          <% if order_content.packaging_materials_others.exists? %>
            <%= tag.div "Other:", class:"" %>
            <%= tag.div order_content_decorator.packaging_materials_others_td, class: "mt-1 text-xs" %>
          <% end %>
        <% end %>
      <% else %>
        <%= tag.div class: "w-auto grid  grid-cols-2 grid-flow-row auto-rows-max whitespace-nowrap" do %>
          Boxes: <%= order.order_content.try(:box) || '0' %>
          <br>
          Crates: <%= order.order_content.try(:crate) || '0' %>
          <br>
          Pallets: <%= order.order_content.try(:pallet) || '0' %>
          <br>
          Others: <%= order.order_content.try(:other) || '0' %>
          <br>
          <% if (order.order_content.other.present? && order.order_content.other_description.present?) %>
            <%= tag.p "Other Desc:" %>
            <span class="whitespace-normal text-gray-500">
              <%= order.order_content.other_description.length >= 25 ? "#{order.order_content.other_description[0..25]...}" : "#{order.order_content.other_description}" if order.order_content.other_description %>
            </span>
          <% end %>
        <% end %>
      <% end %>
    </div>
  <% end %>
<% end %>
