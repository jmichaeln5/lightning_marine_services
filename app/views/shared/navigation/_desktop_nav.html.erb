<nav class="bg-white shadow">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 justify-between">
      <div class="flex">
        <div class="flex flex-shrink-0 items-center">
          <div class="h-8 w-auto">
            <% navbar_brand_url = user_signed_in? ? dashboard_path : root_path %>
            <%= link_to "Lightning Marine Services", navbar_brand_url, class:"mt-0.5 text-gray-500 hover:text-gray-900 text-lg sm:text-xl lg:text-2xl inline-block h-8 w-auto" %>
          </div>
        </div>
        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
          <% desktop_navigation_resource_css_classes = "inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-400 hover:border-gray-300 hover:text-gray-500" %>
          <% desktop_navigation_resource_css_classes_current = "inline-flex items-center border-b-2 border-indigo-500 px-1 pt-1 text-sm text-gray-900 " %>

          <% if current_user %>
            <%= link_to "Orders", orders_path, class: desktop_navigation_resource_css_classes_current if current_page?(orders_path) %>
            <%= link_to "Orders", orders_path, class: desktop_navigation_resource_css_classes if !current_page?(orders_path) %>

            <%= link_to "Ships", purchasers_path, class: desktop_navigation_resource_css_classes_current if current_page?(purchasers_path) %>
            <%= link_to "Ships", purchasers_path, class: desktop_navigation_resource_css_classes if !current_page?(purchasers_path) %>

            <%= link_to "Vendors", vendors_path, class: desktop_navigation_resource_css_classes_current if current_page?(vendors_path) %>
            <%= link_to "Vendors", vendors_path, class: desktop_navigation_resource_css_classes if !current_page?(vendors_path) %>
          <% end %>

        </div>
      </div>
      <!-- <div class="hidden sm:ml-6 sm:flex sm:items-center"> -->
      <div data-controller="visibility" data-visibility-value-toggled="false" class="hidden sm:ml-6 sm:flex sm:items-center">
        <div class="relative ml-3">
          <div>
            <button type="button"  data-action="visibility#toggleTargets" class="flex rounded-md bg-white text-gray-400 text-sm border-2 border-gray-200 transition ease-in-out delay-150 hover:scale-105 duration-150 hover:border-gray-400 p-1 hover:text-gray-500 hover:text-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" id="user-menu-button" aria-expanded="false" aria-haspopup="true">
            <!-- <button type="button" data-action="toggle#toggle" class="flex rounded-md bg-white text-gray-400 text-sm border-2 border-gray-200 transition ease-in-out delay-150 hover:scale-105 duration-150 hover:border-gray-400 p-1 hover:text-gray-500 hover:text-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" id="user-menu-button" aria-expanded="false" aria-haspopup="true"> -->
              <span class="sr-only">Open user menu</span>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
              </svg>
            </button>
          </div>
          <!--
            Dropdown menu, show/hide based on menu state.
            Entering: "transition ease-out duration-200"
              From: "transform opacity-0 scale-95"
              To: "transform opacity-100 scale-100"
            Leaving: "transition ease-in duration-75"
              From: "transform opacity-100 scale-100"
              To: "transform opacity-0 scale-95"
          -->
          <div data-visibility-target="hideable" hidden class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1">
            <% profile_dropdown_navigation_css_classes = "block px-4 py-2 text-sm text-gray-400 hover:text-gray-500" %>
            <% profile_dropdown_navigation_css_classes_current = "#{profile_dropdown_navigation_css_classes} bg-gray-100 text-gray-500" %>

            <% if current_user %>
              <%= link_to "Dashboard", dashboard_path, class: profile_dropdown_navigation_css_classes_current, role:"menuitem", tabindex:"-1" if current_page?(dashboard_path) %>
              <%= link_to "Dashboard", dashboard_path, class: profile_dropdown_navigation_css_classes, role:"menuitem", tabindex:"-1" if !current_page?(dashboard_path) %>

              <%= link_to "Account Settings", edit_user_registration_path, class: profile_dropdown_navigation_css_classes_current, role:"menuitem", tabindex:"-1" if current_page?(edit_user_registration_path) %>
              <%= link_to "Account Settings", edit_user_registration_path, class: profile_dropdown_navigation_css_classes, role:"menuitem", tabindex:"-1" if !current_page?(edit_user_registration_path) %>

              <%= link_to "Logout", signout_path, method: :delete, class: profile_dropdown_navigation_css_classes_current, role:"menuitem", tabindex:"-1" if current_page?(signout_path) %>
              <%= link_to "Logout", signout_path, method: :delete, class: profile_dropdown_navigation_css_classes, role:"menuitem", tabindex:"-1" if !current_page?(signout_path) %>
            <% end %>

            <% if !current_user %>
              <%= link_to "Home", root_path, class: profile_dropdown_navigation_css_classes_current, role:"menuitem", tabindex:"-1" if current_page?(root_path) %>
              <%= link_to "Home", root_path, class: profile_dropdown_navigation_css_classes, role:"menuitem", tabindex:"-1" if !current_page?(root_path) %>

              <%= link_to "Sign In", sign_in_path, role:"menuitem", tabindex:"-1", class: profile_dropdown_navigation_css_classes_current if current_page?(sign_in_path) %>
              <%= link_to "Sign In", sign_in_path, role:"menuitem", tabindex:"-1", class: profile_dropdown_navigation_css_classes if !current_page?(sign_in_path) %>
            <% end %>

          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
