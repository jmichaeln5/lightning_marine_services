<nav class="navbar navbar-expand-lg bg-gray-100 navbar-light">
  <% navbar_brand_url = current_user.present? ? dashboard_path : root_path %>
  <%= link_to "Lightning Marine Service", navbar_brand_url, class:"navbar-brand" %>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">

    <ul class="navbar-nav mr-auto">
      <% if !user_signed_in? %>
        <li class="nav-item">
          <%= link_to 'home', root_path, class:'nav-link' %>
        </li>
      <% end %>

      <% if user_signed_in? %>

        <li class="nav-item">
          <%= link_to 'Dashboard', dashboard_path, class:'nav-link' %>
        </li>
        <% if (current_user.has_role?('admin') || current_user.has_role?('staff')) %>
          <li class="nav-item">
            <%= link_to 'Orders', orders_path, class:'nav-link' %>
          </li>
        <% end %>

        <li class="nav-item">
          <%= link_to 'Ships', purchasers_path, class:'nav-link' %>
        </li>

        <% if (current_user.has_role?('admin') || current_user.has_role?('staff')) %>
          <li class="nav-item">
            <%= link_to 'Vendors', vendors_path, class:'nav-link' %>
          </li>
        <% end %>
      <% end %>
    </ul>

    <div class="navbar-text">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <%= link_to "Logout", signout_path, method: :delete, class:"nav-link" if user_signed_in? %>
        </li>

        <li class="nav-item">
          <%= link_to 'Account Settings', edit_user_registration_path, class:'nav-link' if user_signed_in?%>
        </li>

        <li class="nav-item">
          <%= link_to 'sign in', sign_in_path, class:'nav-link' if !user_signed_in?%>
        </li>

      </ul>
    </div>
  </div>
</nav>
