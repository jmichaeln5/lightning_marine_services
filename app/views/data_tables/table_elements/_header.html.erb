<% css_th ||= '' %>

<th scope="col" class="<%= css_th %>" data-table-target="th">
  <% css_cheveron_active = %w(ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200) %>
  <% css_cheveron_not_active = %w(invisible ml-2 flex-none rounded text-gray-400 group-hover:visible group-focus:visible) %>
  <% css_cheveron_no_sort_link_to = %w(invisible ml-2 flex-none rounded text-gray-400) %>


  <% css_cheveron = css_cheveron_no_sort_link_to if local_assigns[:sort_link_to].nil? %>
  <%# css_cheveron = css_cheveron_no_sort_link_to if local_assigns[:sort_link_to].nil? or !local_assigns[:active] %>
  <% css_cheveron ||= local_assigns[:active] ? css_cheveron_active : css_cheveron_not_active %>



  <% content_for :table_header_content, flush: true do %>
    <%= tag.span class: "group inline-flex" do %>
      <%= title %>
      <%= tag.span class: css_cheveron do %>
        <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
        </svg>
      <% end %>
    <% end %>
  <% end %>

  <% if local_assigns[:sort_link_to] %>
    <%= link_to local_assigns[:sort_link_to] do %>
      <%= yield :table_header_content %>
    <% end %>
  <% else %>
    <%= yield :table_header_content %>
  <% end %>
</th>
