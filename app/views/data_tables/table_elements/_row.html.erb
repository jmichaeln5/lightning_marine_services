<!-- <tr class="table-row odd:bg-gray-50 odd:hover:bg-slate-100 even:bg-white even:hover:bg-slate-100" id="<%#= dom_id(order) %>"> -->
<tr class="table-row hover:bg-slate-100 transition ease-in-out delay-150 duration-300" id="<%= dom_id(order) %>">
  <% css_td = "whitespace-nowrap px-1.5 py-4 text-sm text-gray-500" %>
  <% css_td_first = "whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-1" %>
  <% css_td_last = "relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm sm:pr-3" %>
  <% css_td_anchor = "text-indigo-600 hover:text-indigo-900" %>
  <td data-table-target="td" class="<%= css_td_first %>">
    <%= link_to order.id, order_path(order.id), target: '_top', class: 'pl-0.5 text-indigo-600 hover:text-indigo-900' %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <%= tag.div class: "w-full max-w-96 relative text-center" do %>
      <%= render "inline_edit", model: order, attribute: :order_sequence %>
    <% end %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <%= tag.div id: order.statusable_dom_id, class: "" do %>
      <% status_badge_css = "rounded-full px-3 py-1.5" %>
      <%= tag.div class: "inline-block" do %>
        <% if authorized_internal_user? %>
          <%= tag.div do %>
            <%= turbo_frame_tag order.edit_statusable_dom_id, class: "w-full inline-flex justify-center" do %>
              <%= link_to edit_status_path(
              order,
              params: { statusable_id: order.id, statusable_type: order.statusable_type, status_badge_css: status_badge_css},
              ) do %>
                <%= status_badge order.status, status_badge_css %>
              <% end %>
            <% end %>
          <% end %>
        <% else %>
          <%= status_badge order.status, status_badge_css %>
        <% end %>
      <% end %>
    <% end %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <%= render "orders/inline_edit_dept", order: order, attribute: :dept %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <% if !purchaser? %>
      <%= link_to order.purchaser.name, purchaser_orders_path(order.purchaser, status: status_display_name), target: '_top', class: 'text-indigo-600 hover:text-indigo-900' %>
    <% else %>
      <%= tag.span order.purchaser.name %>
    <% end %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <% if !vendor? %>
      <%= link_to order.vendor.name, vendor_orders_path(order.vendor, status: status_display_name), target: '_top', class: 'text-indigo-600 hover:text-indigo-900' if authorized_internal_user? %>
      <%= tag.span order.vendor.name if !authorized_internal_user? %>
    <% else %>
      <%= tag.span order.vendor.name %>
    <% end %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <%= render "inline_edit", model: order, attribute: :po_number %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <%= render "inline_edit", model: order, attribute: :date_recieved %>
  </td>
  <td data-table-target="td" class="<%= css_td %>">
    <% order_content = order.order_content %>
    <% order_content_decorator = OrderContentDecorator.new(order.order_content) %>
    <div class="m-auto">
      <% if order_content.packaging_materials.any? %>
        <%= tag.div class: "inline-block grid justify-items-stretch gap-x-px grid-cols-2" do %>
          <%= tag.div "Boxes:" %>
          <%= tag.span order_content_decorator.packaging_materials_boxes_td, class: "justify-self-start whitespace-nowrap" %>
          <%= tag.div "Crates:" %>
          <%= tag.span order_content_decorator.packaging_materials_crates_td, class: "justify-self-start whitespace-nowrap" %>
          <%= tag.div "Pallets:" %>
          <%= tag.span order_content_decorator.packaging_materials_pallets_td, class: "justify-self-start whitespace-nowrap" %>
          <%#= tag.span (order_content_decorator.packaging_materials_pallets_td)[0..10] %>
          <%# ^^^ formatted desc with elipeses should go here %>
          <% if order_content.packaging_materials_others.any? %>
            <%= tag.div "Others:" %>
            <%= tag.span order_content_decorator.packaging_materials_others_td, class: "justify-self-start whitespace-nowrap" %>
          <% end %>
        <% end %>
      <% else %>
        <%= tag.div class: "inline-block align-middle mx-auto grid gap-x-2 grid-cols-2 whitespace-nowrap" do %>
          <%= tag.div "Boxes:" %>
          <%= tag.span (order_content.try(:box) || '0') %>
          <%= tag.div "Crates:" %>
          <%= tag.span (order_content.try(:crate) || '0') %>
          <%= tag.div "Pallets:" %>
          <%= tag.span (order_content.try(:pallet) || '0') %>
          <% unless order_content.try(:other).nil? %>
            <%= tag.div "Others:" %>
            <%= tag.span (order_content.try(:other) || '0') %>
          <% end %>
        <% end %>
        <% if !(order_content.try(:other).nil?) && order_content.other_description.present? %>
          <%= tag.div class: "inline-block align-middle mx-auto" do %>
            <%= tag.div "Other Desc:" %>
            <%= tag.span ((order_content.other_description.length >= 25 ? "#{order_content.other_description[0..25]...}" : "#{order_content.other_description}")), class: "whitespace-normal text-gray-500" %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </td>
  <td class="<%= css_td %>">
    <%= render "inline_edit", model: order, attribute: :courrier %>
  </td>
  <td class="<%= css_td %>">
    <%= render "inline_edit", model: order, attribute: :date_delivered %>
  </td>
  <td class="<%= css_td_last %>">
    <%= link_to "edit", edit_order_path(order), data: {turbo_frame: "modal" }, class: "text-indigo-600 hover:text-indigo-900" if authorized_internal_user? %>
  </td>
</tr>
