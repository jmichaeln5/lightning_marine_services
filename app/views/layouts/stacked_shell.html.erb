<!DOCTYPE html>
<html class="h-full bg-slate-200">
  <head>
    <title>LightningMarineServices</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "users", "data-turbo-track": "reload" if controller_path.include? "users" %>
    <%= stylesheet_link_tag "app", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>

    <%#= stylesheet_link_tag "users" if controller_path.include? "users" %>
    <%#= stylesheet_link_tag "app" %>
    <%#= stylesheet_link_tag "application" %>
    <%#= javascript_include_tag "application", defer: true %>
  </head>

  <body class="h-full">
    <div class="min-h-full">
      <div class="bg-gray-800 pb-32">

        <nav class="bg-gray-800">
          <% tmp_search_input_placeholder_text = "Search" %>
          <%= render partial: "layouts/stacked_shell/nav", locals:{
            search_input_placeholder_text: tmp_search_input_placeholder_text,
          } %>
        </nav>

        <div id="flashes">   <%# New flashes appended to div #flashes %>
          <%= render "shared/flash_messages" %>  <%# old flashes %>
        </div>

        <header class="flow-root py-10 ">         <!-- move back into header partial -->
          <div id="page_header">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
              <div class="w-full inline-flex flex-wrap justify-center sm:justify-between space-y-3 sm:space-y-0">
                <div class="w-full sm:w-auto">
                  <h1 class="text-center sm:text-left">
                    <div id="page_heading_title" class="text-4xl font-bold tracking-tight text-white">
                      <%= turbo_stream.update "page_heading_title", @page_heading_title unless content_for?(:page_heading_title) %>
                      <%= yield :page_heading_title %>
                    </div>
                  </h1>
                </div>
                <div class="w-full sm:w-auto">
                  <div class="text-center sm:text-right">
                    <div id="page_heading_button">
                      <%= yield :page_heading_button %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>
      </div>
      <main class="-mt-32">

        <% if content_for?(:page_heading_card) %>
          <%= render layout: "/layouts/stacked_shell/container" do %>
            <section>
            <%= render layout: "/layouts/stacked_shell/card" do %>
              <%= render partial: "/layouts/stacked_shell/headings/card" %>
              <%= yield :page_heading_card %>
            <% end %>
            </section>
            <section class="mt-9">
              <%= yield %>
              <%= turbo_frame_tag :modal %>
            </section>
          <% end %>
        <% end %>

        <% if !content_for?(:page_heading_card) %>
          <%= render layout: "/layouts/stacked_shell/container" do %>
            <%= render layout: "/layouts/stacked_shell/card" do %>
              <%= yield %>
              <%= turbo_frame_tag :modal %>
            <% end %>
          <% end %>
        <% end %>

      </main>
    </div>
  </body>
</html>
